{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DETECT_OUTPUT",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "schema_version": {
      "type": "string"
    },
    "quality": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "recommend_retake": {
          "type": "boolean"
        },
        "issues": {
          "type": "array",
          "maxItems": 10,
          "items": {
            "type": "string",
            "enum": [
              "blur",
              "glare",
              "low_light",
              "cut_off",
              "occluded_text",
              "too_small_text",
              "skewed",
              "no_text_found",
              "multiple_pages",
              "other"
            ]
          }
        }
      },
      "required": [
        "recommend_retake",
        "issues"
      ]
    },
    "classification": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "subject_candidate": {
          "type": "string",
          "enum": [
            "math",
            "ru",
            "en",
            "world",
            "literature",
            "other"
          ]
        },
        "confidence": {
          "type": "number"
        }
      },
      "required": [
        "subject_candidate",
        "confidence"
      ]
    }
  },
  "required": [
    "schema_version",
    "quality",
    "classification"
  ]
}